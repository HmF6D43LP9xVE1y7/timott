window.addEventListener('load',()=>document.querySelector('.pageFader').classList.add('fade-out'));document.addEventListener('DOMContentLoaded',()=>{const fader=document.querySelector('.pageFader');const anchors=Array.from(document.querySelectorAll('a'));anchors.forEach(anchor=>{if(anchor.hostname===window.location.hostname){anchor.addEventListener('click',(event)=>{event.preventDefault();const listener=()=>{window.location=anchor.href;fader.removeEventListener('transitionend',listener)};fader.addEventListener('transitionend',listener);fader.classList.add('fade-in')})}})});window.addEventListener('pageshow',(event)=>{if(event.persisted){document.querySelector('.pageFader').classList.remove('fade-in')}});