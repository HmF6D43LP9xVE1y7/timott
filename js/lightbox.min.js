console.clear();const images=[{src:'053',thumb:'053',prj:'buechehof',index:'0',mobileCol:'4 / 14',mobileRow:'1 / 15',desktopCol:'4 / 14',desktopRow:'1 / 15'},{src:'050',thumb:'050',prj:'buechehof',index:'1',mobileCol:'2 / 16',mobileRow:'17 / 27',desktopCol:'16 / 30',desktopRow:'3 / 13'},{src:'065',thumb:'065',prj:'buechehof',index:'2',mobileCol:'2 / 16',mobileRow:'41 / 51',desktopCol:'9 / 23',desktopRow:'27 / 37'},{src:'058',thumb:'058',prj:'buechehof',index:'3',mobileCol:'7 / 14',mobileRow:'29 / 39',desktopCol:'16 / 23',desktopRow:'15 / 25'},{src:'046',thumb:'046',prj:'buechehof',index:'4',mobileCol:'2 / 12',mobileRow:'53 / 60',desktopCol:'25 / 35',desktopRow:'22 / 29'},{src:'040',thumb:'040',prj:'buechehof',index:'5',mobileCol:'4 / 11',mobileRow:'81 / 91',desktopCol:'2 / 9',desktopRow:'43 / 53'},{src:'034',thumb:'034',prj:'buechehof',index:'6',mobileCol:'2 / 16',mobileRow:'69 / 79',desktopCol:'30 / 44',desktopRow:'31 / 41'},{src:'012',thumb:'012',prj:'buechehof',index:'7',mobileCol:'4 / 14',mobileRow:'105 / 119',desktopCol:'30 / 40',desktopRow:'43 / 57'},{src:'011',thumb:'011',prj:'buechehof',index:'8',mobileCol:'9 / 16',mobileRow:'93 / 103',desktopCol:'21 / 28',desktopRow:'49 / 59'},{src:'005',thumb:'005',prj:'buechehof',index:'9',mobileCol:'9 / 16',mobileRow:'121 / 131',desktopCol:'16 / 23',desktopRow:'61 / 71'},{src:'000',thumb:'000',prj:'buechehof',index:'10',mobileCol:'2 / 12',mobileRow:'133 / 147',desktopCol:'4 / 14',desktopRow:'59 / 73'},{src:'230',thumb:'230',prj:'buechehof',index:'11',mobileCol:'6 / 16',mobileRow:'149 / 156',desktopCol:'32 / 42',desktopRow:'69 / 76'},{src:'133',thumb:'133',prj:'buechehof',index:'12',mobileCol:'2 / 16',mobileRow:'158 / 168',desktopCol:'30 / 44',desktopRow:'78/ 88'},{src:'220',thumb:'220',prj:'buechehof',index:'13',mobileCol:'4 / 14',mobileRow:'170 / 177',desktopCol:'30 / 40',desktopRow:'90 / 97'},{src:'138',thumb:'138',prj:'buechehof',index:'14',mobileCol:'2 / 16',mobileRow:'179 / 189',desktopCol:'14 / 28',desktopRow:'92/ 102'},{src:'148',thumb:'148',prj:'buechehof',index:'15',mobileCol:'2 / 12',mobileRow:'191 / 198',desktopCol:'2 / 12',desktopRow:'99 / 106'},{src:'198',thumb:'198',prj:'buechehof',index:'16',mobileCol:'2 / 16',mobileRow:'200 / 210',desktopCol:'4 / 18',desktopRow:'108/ 118'},{src:'218',thumb:'218',prj:'buechehof',index:'17',mobileCol:'6 / 16',mobileRow:'212 / 219',desktopCol:'34 / 44',desktopRow:'104 / 111'},{src:'068',thumb:'068',prj:'wartenbergstrasse',index:'0',mobileCol:'4 / 14',mobileRow:'1 / 15',desktopCol:'32 / 42',desktopRow:'1 / 15'},{src:'052c',thumb:'052c',prj:'wartenbergstrasse',index:'1',mobileCol:'2 / 16',mobileRow:'17 / 27',desktopCol:'16 / 30',desktopRow:'3 / 13'},{src:'061',thumb:'061',prj:'wartenbergstrasse',index:'2',mobileCol:'7 / 14',mobileRow:'33 / 43',desktopCol:'23 / 30',desktopRow:'15 / 25'},{src:'051',thumb:'051',prj:'wartenbergstrasse',index:'3',mobileCol:'2 / 12',mobileRow:'45 / 52',desktopCol:'11 / 21',desktopRow:'22 / 29'},{src:'048',thumb:'048',prj:'wartenbergstrasse',index:'4',mobileCol:'2 / 16',mobileRow:'54 / 64',desktopCol:'3 / 17',desktopRow:'31 / 41'},{src:'040',thumb:'040',prj:'wartenbergstrasse',index:'5',mobileCol:'6 / 16',mobileRow:'66 / 73',desktopCol:'23 / 37',desktopRow:'27 / 37'},{src:'016',thumb:'016',prj:'wartenbergstrasse',index:'6',mobileCol:'2 / 12',mobileRow:'75 / 89',desktopCol:'7 / 17',desktopRow:'43 / 57'},{src:'021',thumb:'021',prj:'wartenbergstrasse',index:'7',mobileCol:'9 / 16',mobileRow:'91 / 101',desktopCol:'19 / 26',desktopRow:'49 / 59'},{src:'008',thumb:'008',prj:'wartenbergstrasse',index:'8',mobileCol:'4 / 11',mobileRow:'103 / 113',desktopCol:'36 / 43',desktopRow:'43 / 53'},{src:'003',thumb:'003',prj:'oubliettes',index:'0',mobileCol:'4 / 14',mobileRow:'1 / 8'},{src:'004',prj:'oubliettes',index:'0'},{src:'005',prj:'oubliettes',index:'0'},{src:'006',thumb:'006',prj:'oubliettes',index:'0',mobileCol:'4 / 14',mobileRow:'29 / 36',desktopCol:'2 / 12',desktopRow:'1 / 8'},{src:'007',thumb:'007_thumb',prj:'oubliettes',index:'0',mobileCol:'2 / 16',mobileRow:'38 / 48',desktopCol:'2 / 16',desktopRow:'10 / 20'},{src:'008',thumb:'008_thumb',prj:'oubliettes',index:'0',mobileCol:'6 / 16',mobileRow:'50 / 57',desktopCol:'6 / 16',desktopRow:'22 / 29'},{src:'009',thumb:'009',prj:'oubliettes',index:'0',mobileCol:'2 / 12',mobileRow:'59 / 66',desktopCol:'20 / 30',desktopRow:'15 / 22'},{src:'010',thumb:'010_thumb',prj:'oubliettes',index:'0',mobileCol:'4 / 14',mobileRow:'68 / 75',desktopCol:'32 / 42',desktopRow:'15 / 22'},{src:'011',thumb:'011_thumb',prj:'oubliettes',index:'0',mobileCol:'2 / 16',mobileRow:'77 / 87',desktopCol:'18 / 32',desktopRow:'24 / 34'},{src:'015',thumb:'015',prj:'oubliettes',index:'0',mobileCol:'2 / 12',mobileRow:'89 / 96',desktopCol:'34 / 44',desktopRow:'29/ 36'},{src:'012',thumb:'012_thumb',prj:'oubliettes',index:'0',mobileCol:'6 / 16',mobileRow:'98 / 105',desktopCol:'4 / 14',desktopRow:'36 / 43'},{src:'013',thumb:'013',prj:'oubliettes',index:'0',mobileCol:'4 / 14',mobileRow:'107 / 114',desktopCol:'16 / 26',desktopRow:'36 / 43'},{src:'014',thumb:'014_thumb',prj:'oubliettes',index:'0',mobileCol:'2 / 16',mobileRow:'116 / 126',desktopCol:'28 / 42',desktopRow:'38 / 48'},{src:'016',thumb:'016',prj:'oubliettes',index:'0',mobileCol:'4 / 14',mobileRow:'128 / 135',desktopCol:'32 / 42',desktopRow:'50 / 57'},{src:'017',prj:'oubliettes',index:'0'},{src:'018',prj:'oubliettes',index:'0'},{src:'019',prj:'oubliettes',index:'0'},{src:'025',thumb:'025',prj:'gartenweg',index:'0',mobileCol:'4 / 14',mobileRow:'1 / 15',desktopCol:'34 / 44',desktopRow:'1 / 15'},{src:'040',thumb:'040',prj:'gartenweg',index:'1',mobileCol:'2 / 16',mobileRow:'17 / 27',desktopCol:'18 / 32',desktopRow:'15 / 25'},{src:'030',thumb:'030',prj:'gartenweg',index:'2',mobileCol:'7 / 14',mobileRow:'29 / 39',desktopCol:'25 / 32',desktopRow:'3 / 13'},{src:'017',thumb:'017',prj:'gartenweg',index:'3',mobileCol:'2 / 9',mobileRow:'41 / 51',desktopCol:'9 / 16',desktopRow:'13 / 23'},{src:'007',thumb:'007',prj:'gartenweg',index:'4',mobileCol:'6 / 16',mobileRow:'53 / 67',desktopCol:'2 / 12',desktopRow:'25 / 39'},{src:'070',thumb:'070',prj:'gartenweg',index:'5',mobileCol:'2 / 16',mobileRow:'69 / 79',desktopCol:'4 / 18',desktopRow:'41 / 51'},{src:'075',thumb:'075',prj:'gartenweg',index:'6',mobileCol:'2 / 12',mobileRow:'81 / 88',desktopCol:'20 / 30',desktopRow:'36 / 43'},{src:'057',thumb:'057',prj:'gartenweg',index:'7',mobileCol:'6 / 16',mobileRow:'96 / 110',desktopCol:'20 / 30',desktopRow:'49 / 63'},{src:'043',thumb:'043',prj:'gartenweg',index:'8',mobileCol:'2 / 9',mobileRow:'112 / 122',desktopCol:'11 / 18',desktopRow:'57 / 67'},{src:'102',thumb:'102',prj:'gartenweg',index:'9',mobileCol:'2 / 12',mobileRow:'124 / 131',desktopCol:'28 / 38',desktopRow:'65 / 72'},{src:'023',thumb:'023',prj:'gartenweg',index:'10',mobileCol:'6 / 16',mobileRow:'133 / 140',desktopCol:'34 / 44',desktopRow:'74 / 81'},{src:'061',thumb:'061',prj:'gartenweg',index:'11',mobileCol:'2 / 16',mobileRow:'142 / 152',desktopCol:'22 / 36',desktopRow:'83/ 93'},{src:'052',thumb:'052',prj:'gartenweg',index:'12',mobileCol:'4 / 14',mobileRow:'154 / 161',desktopCol:'22 / 32',desktopRow:'95 / 102'},{src:'004',thumb:'004',prj:'gartenweg',index:'13',mobileCol:'2 / 12',mobileRow:'163 / 170',desktopCol:'2 / 12',desktopRow:'95 / 102'},{src:'018',thumb:'018',prj:'gartenweg',index:'14',mobileCol:'6 / 16',mobileRow:'172 / 179',desktopCol:'18 / 28',desktopRow:'104 / 111'},{src:'055',thumb:'055',prj:'gartenweg',index:'15',mobileCol:'2 / 16',mobileRow:'181 / 191',desktopCol:'30 / 44',desktopRow:'106/ 116'}];window.addEventListener('load',loadImages);let resizeTimeout;const debounce=(func,delay)=>{return(...args)=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(()=>{func.apply(this,args)},delay)}};const handleResize=debounce(()=>{const gridContainers=document.querySelectorAll('.gridContainer');gridContainers.forEach(container=>container.textContent='');loadImages()},100);window.addEventListener('resize',handleResize);function loadImages(){const lb=document.querySelector('.lightbox');const lbSrc=document.querySelector('.lightboxSrc');const lbCount=document.querySelector('.lightboxCount');const lbClose=document.querySelector('.lightboxClose');const lbPrev=document.querySelector('.lightboxPrev');const lbNext=document.querySelector('.lightboxNext');const fragment=document.createDocumentFragment();const isMobile=window.innerWidth<768;images.forEach((img)=>{const imgContainer=document.createElement('div');imgContainer.className='imgContainer';imgContainer.title='\u00A9 tim ott';imgContainer.alt='\u00A9 tim ott';imgContainer.style.backgroundImage=`url(assets/${img.prj }/${img.prj }_${img.thumb }.jpg)`;imgContainer.style.backgroundRepeat='round';imgContainer.style.backgroundSize='cover';imgContainer.style.cursor='pointer';imgContainer.style.gridColumn=isMobile?img.mobileCol:img.desktopCol;imgContainer.style.gridRow=isMobile?img.mobileRow:img.desktopRow;imgContainer.addEventListener('click',function(){const eventListeners=[{element:document,event:'keydown',handler:handleKeydown},{element:lbClose,event:'click',handler:handleClose},{element:lbPrev,event:'click',handler:handlePrev},{element:lbNext,event:'click',handler:handleNext},{element:lb,event:'click',handler:handleClick}];function addEventListeners(){eventListeners.forEach(({element,event,handler})=>{if(!element.hasEventListener){element.addEventListener(event,handler);element.hasEventListener=true}})}function removeEventListeners(){eventListeners.forEach(({element,event,handler})=>{if(element.hasEventListener){element.removeEventListener(event,handler);element.hasEventListener=false}})}addEventListeners();let currentIndex=img.index;const imgSelection=images.filter((selected)=>selected.prj===img.prj);const imgSelectionPath=imgSelection.map(selectedImage=>`assets/${selectedImage.prj }/${selectedImage.prj }_${selectedImage.src }.jpg`);console.log(imgSelection);console.log(imgSelectionPath);console.log('current project: '+img.prj);updateImage();lb.style.display='flex';lbSrc.style.objectFit='contain';document.body.style.overflow='hidden';function updateImage(){console.log('current image: '+imgSelectionPath[currentIndex]);lbSrc.setAttribute('src',imgSelectionPath[currentIndex]);lbCount.textContent=`${parseFloat(currentIndex)+1} / ${imgSelection.length }`}function handleKeydown(event){switch(event.key){case 'ArrowLeft':event.preventDefault();handlePrev();break;case 'ArrowRight':event.preventDefault();handleNext();break;case ' ':event.preventDefault();handleNext();break;case 'Escape':event.preventDefault();handleClose();break;case 'ArrowUp':event.preventDefault();break;case 'ArrowDown':event.preventDefault();break}}function handlePrev(){currentIndex=(parseFloat(currentIndex)-1+imgSelectionPath.length)%imgSelectionPath.length;updateImage()}function handleNext(){currentIndex=(parseFloat(currentIndex)+1)%imgSelectionPath.length;updateImage()}function handleClick(click){if(click.target===lb){handleClose()}}function handleClose(){lbSrc.style.objectFit='cover';lb.style.display='none';lbSrc.setAttribute('src','');removeEventListeners()}});fragment.appendChild(imgContainer);document.querySelector(`.${img.prj }`).appendChild(fragment)})}